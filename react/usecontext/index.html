<!doctype html><html lang=es dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="es"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia &#183; Funval International</title><meta name=title content="Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia &#183; Funval International"><meta name=description content="En el mundo de React, la gestión del estado es fundamental."><link rel=canonical href=https://funvalprogra.github.io/platform/react/usecontext/><link type=text/css rel=stylesheet href=/platform/css/main.bundle.min.f2df16eaa2254cb2cbdb50c88227e9e648d2d03928ce0db7a6b45b9aae2b5b590d1835b5a0b2a6fef3ccf909200384081f18673a10fc046d258e163b23f4eca9.css integrity="sha512-8t8W6qIlTLLL21DIgifp5kjS0Dkozg23prRbmq4rW1kNGDW1oLKm/vPM+QkgA4QIHxhnOhD8BG0ljhY7I/TsqQ=="><script type=text/javascript src=/platform/js/appearance.min.1e44157c1e51b46341ce2c94716dd3dd1ef30c28e7d1c9f3b9db80877bfe72bc66b00d8a662f317840016acbed93c5f18c3d9268c8b957021ee74d0b04adf6c5.js integrity="sha512-HkQVfB5RtGNBziyUcW3T3R7zDCjn0cnzuduAh3v+crxmsA2KZi8xeEABasvtk8XxjD2SaMi5VwIe500LBK32xQ=="></script>
<script defer type=text/javascript id=script-bundle src=/platform/js/main.bundle.min.9947db70e5b36e741e53f8531bd734741b3fc7a688f7b5d749fc5433c48efc252f47bdf44e471570a550fc051b87712799014040e6349b38d64448b94e84e45a.js integrity="sha512-mUfbcOWzbnQeU/hTG9c0dBs/x6aI97XXSfxUM8SO/CUvR730TkcVcKVQ/AUbh3EnmQFAQOY0mzjWREi5ToTkWg==" data-copy=Copiar data-copied=Copiado></script>
<link rel=apple-touch-icon sizes=180x180 href=/platform/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/platform/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/platform/favicon-16x16.png><link rel=manifest href=/platform/site.webmanifest><meta property="og:title" content="Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia"><meta property="og:description" content="En el mundo de React, la gestión del estado es fundamental."><meta property="og:type" content="article"><meta property="og:url" content="https://funvalprogra.github.io/platform/react/usecontext/"><meta property="article:section" content="react"><meta property="article:published_time" content="2023-10-05T18:06:03-05:00"><meta property="article:modified_time" content="2023-10-05T18:06:03-05:00"><meta property="og:site_name" content="Funval International"><meta name=twitter:card content="summary"><meta name=twitter:title content="Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia"><meta name=twitter:description content="En el mundo de React, la gestión del estado es fundamental."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Reacts","name":"Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia","headline":"Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia","abstract":"En el mundo de React, la gestión del estado es fundamental.","inLanguage":"es","url":"https:\/\/funvalprogra.github.io\/platform\/react\/usecontext\/","author":{"@type":"Person","name":""},"copyrightYear":"2023","dateCreated":"2023-10-05T18:06:03-05:00","datePublished":"2023-10-05T18:06:03-05:00","dateModified":"2023-10-05T18:06:03-05:00","mainEntityOfPage":"true","wordCount":"862"}]</script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Ir al contenido</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral print:hidden sm:py-10"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><h1>Funval International</h1></div></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Utilizando useContext en React para una Gestión de Estado más Eficiente y Limpia</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">5 mins</span></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Tabla de contenido</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#introducción>Introducción</a></li><li><a href=#qué-es-usecontext>¿Qué es <strong>useContext</strong>?</a></li><li><a href=#por-qué-utilizar-usecontext>¿Por qué utilizar <strong>useContext</strong>?</a><ul><li><a href=#evita-la-prop-drilling>Evita la &ldquo;prop drilling&rdquo;</a></li><li><a href=#simplifica-la-gestión-del-estado-global>Simplifica la gestión del estado global</a></li><li><a href=#mejora-la-legibilidad-del-código>Mejora la legibilidad del código</a></li></ul></li><li><a href=#cuándo-utilizar-usecontext>¿Cuándo utilizar <strong>useContext</strong>?</a><ul><li><a href=#aplicaciones-con-un-estado-global>Aplicaciones con un estado global</a></li><li><a href=#reducción-del-prop-drilling>Reducción del &ldquo;prop drilling&rdquo;</a></li><li><a href=#claridad-y-simplicidad>Claridad y simplicidad</a></li></ul></li><li><a href=#cómo-utilizar-usecontext>Cómo utilizar <strong>useContext</strong></a><ul><li><a href=#creación-de-un-contexto>Creación de un contexto</a></li><li><a href=#proveer-datos-al-contexto>Proveer datos al contexto</a></li><li><a href=#consumir-datos-del-contexto>Consumir datos del contexto</a></li></ul></li><li><a href=#ejemplo-1-consumiendo-datos-de-una-api-con-usecontext>Ejemplo 1: Consumiendo datos de una API con <strong>useContext</strong></a></li><li><a href=#ejemplo-2-cambio-de-tema-con-usecontext>Ejemplo 2: Cambio de tema con <strong>useContext</strong></a></li><li><a href=#recursos>Recursos</a></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-3xl grow"><p>En el mundo de React, la gestión del estado es fundamental. Sin embargo, a medida que las aplicaciones crecen en complejidad, la propensión a tener un código desordenado aumenta. Aquí es donde <strong>useContext</strong> entra en juego. Este artículo aborda en profundidad el concepto de <strong>useContext</strong> en React, explicando qué es, por qué se debe usar, cuándo aplicarlo y cómo aprovecharlo al máximo. Además, proporciona dos ejemplos prácticos que hacen uso de <strong>useContext</strong> para consumir datos de una API.</p><h2 id=introducción class="relative group">Introducción <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#introducci%c3%b3n aria-label=Ancla>#</a></span></h2><p>React es una biblioteca de JavaScript que se ha destacado por su capacidad para construir interfaces de usuario interactivas y reactivas. A medida que las aplicaciones React crecen, se vuelve esencial una gestión eficiente del estado. <strong>useContext</strong> es una característica fundamental de React que ayuda a gestionar el estado de manera limpia y eficiente al proporcionar un contexto global accesible desde cualquier parte de la aplicación.</p><h2 id=qué-es-usecontext class="relative group">¿Qué es <strong>useContext</strong>? <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#qu%c3%a9-es-usecontext aria-label=Ancla>#</a></span></h2><p><strong>useContext</strong> es un hook de React que permite acceder al contexto de la aplicación desde cualquier componente, sin importar su profundidad en el árbol de componentes. El contexto es una forma de pasar datos a través del árbol de componentes sin tener que pasar propiedades manualmente a cada nivel.</p><h2 id=por-qué-utilizar-usecontext class="relative group">¿Por qué utilizar <strong>useContext</strong>? <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#por-qu%c3%a9-utilizar-usecontext aria-label=Ancla>#</a></span></h2><h3 id=evita-la-prop-drilling class="relative group">Evita la &ldquo;prop drilling&rdquo; <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#evita-la-prop-drilling aria-label=Ancla>#</a></span></h3><p>En aplicaciones de React, es común pasar datos desde un componente principal a través de múltiples niveles de componentes secundarios. Esto se conoce como &ldquo;prop drilling&rdquo;, y puede volverse engorroso y propenso a errores a medida que la aplicación crece. <strong>useContext</strong> resuelve este problema al permitir el acceso directo a los datos necesarios sin pasarlos explícitamente a través de props.</p><h3 id=simplifica-la-gestión-del-estado-global class="relative group">Simplifica la gestión del estado global <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#simplifica-la-gesti%c3%b3n-del-estado-global aria-label=Ancla>#</a></span></h3><p>Para aplicaciones que requieren un estado global, como la autenticación del usuario o la configuración de la aplicación, <strong>useContext</strong> proporciona una forma sencilla de compartir y actualizar ese estado en cualquier parte de la aplicación. Esto mejora la mantenibilidad y la claridad del código.</p><h3 id=mejora-la-legibilidad-del-código class="relative group">Mejora la legibilidad del código <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#mejora-la-legibilidad-del-c%c3%b3digo aria-label=Ancla>#</a></span></h3><p>Al eliminar la necesidad de pasar datos de manera explícita a través de props, el código se vuelve más limpio y legible. Los componentes pueden centrarse en su función principal en lugar de preocuparse por la transferencia de datos.</p><h2 id=cuándo-utilizar-usecontext class="relative group">¿Cuándo utilizar <strong>useContext</strong>? <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#cu%c3%a1ndo-utilizar-usecontext aria-label=Ancla>#</a></span></h2><p><strong>useContext</strong> es útil en varias situaciones:</p><h3 id=aplicaciones-con-un-estado-global class="relative group">Aplicaciones con un estado global <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#aplicaciones-con-un-estado-global aria-label=Ancla>#</a></span></h3><p>Cuando necesitas acceder o modificar datos en múltiples componentes a lo largo de la aplicación, como la autenticación, las preferencias del usuario o la gestión del carrito de compras.</p><h3 id=reducción-del-prop-drilling class="relative group">Reducción del &ldquo;prop drilling&rdquo; <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#reducci%c3%b3n-del-prop-drilling aria-label=Ancla>#</a></span></h3><p>Cuando encuentras que la transferencia de datos a través de props se vuelve confusa o incómoda debido a la profundidad del árbol de componentes.</p><h3 id=claridad-y-simplicidad class="relative group">Claridad y simplicidad <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#claridad-y-simplicidad aria-label=Ancla>#</a></span></h3><p>Cuando deseas mejorar la legibilidad y el mantenimiento del código al evitar la propagación innecesaria de datos.</p><h2 id=cómo-utilizar-usecontext class="relative group">Cómo utilizar <strong>useContext</strong> <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#c%c3%b3mo-utilizar-usecontext aria-label=Ancla>#</a></span></h2><h3 id=creación-de-un-contexto class="relative group">Creación de un contexto <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#creaci%c3%b3n-de-un-contexto aria-label=Ancla>#</a></span></h3><p>Primero, debes crear un contexto utilizando la función <strong>createContext</strong>. Este contexto contendrá los datos globales que deseas compartir.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>createContext</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>MiContexto</span> <span class=o>=</span> <span class=nx>createContext</span><span class=p>();</span>
</span></span></code></pre></div><h3 id=proveer-datos-al-contexto class="relative group">Proveer datos al contexto <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#proveer-datos-al-contexto aria-label=Ancla>#</a></span></h3><p>A continuación, debes utilizar un componente proveedor para suministrar los datos al contexto. Esto se hace utilizando el componente <strong>&lt;MiContexto.Provider></strong> y pasándole un valor.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>createContext</span><span class=p>,</span> <span class=nx>useState</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>MiContexto</span> <span class=o>=</span> <span class=nx>createContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>MiContextoProvider</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>miDato</span><span class=p>,</span> <span class=nx>setMiDato</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=s2>&#34;Valor inicial&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>MiContexto</span><span class=p>.</span><span class=nx>Provider</span> <span class=nx>value</span><span class=o>=</span><span class=p>{{</span> <span class=nx>miDato</span><span class=p>,</span> <span class=nx>setMiDato</span> <span class=p>}}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/MiContexto.Provider&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=consumir-datos-del-contexto class="relative group">Consumir datos del contexto <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#consumir-datos-del-contexto aria-label=Ancla>#</a></span></h3><p>Por último, en cualquier componente que necesite acceder a los datos del contexto, puedes utilizar el hook <strong>useContext</strong> para hacerlo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>useContext</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>MiContexto</span> <span class=nx>from</span> <span class=s2>&#34;./MiContexto&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ComponenteConsumidor</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>{</span> <span class=nx>miDato</span><span class=p>,</span> <span class=nx>setMiDato</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>useContext</span><span class=p>(</span><span class=nx>MiContexto</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>Mi</span> <span class=nx>dato</span> <span class=nx>global</span><span class=o>:</span> <span class=p>{</span><span class=nx>miDato</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/p&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>button</span> <span class=nx>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=p>=&gt;</span> <span class=nx>setMiDato</span><span class=p>(</span><span class=s2>&#34;Nuevo valor&#34;</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Cambiar</span> <span class=nx>Dato</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=ejemplo-1-consumiendo-datos-de-una-api-con-usecontext class="relative group">Ejemplo 1: Consumiendo datos de una API con <strong>useContext</strong> <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ejemplo-1-consumiendo-datos-de-una-api-con-usecontext aria-label=Ancla>#</a></span></h2><p>Supongamos que deseamos crear un contexto que almacene los datos de una API. Aquí está el código:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>createContext</span><span class=p>,</span> <span class=nx>useEffect</span><span class=p>,</span> <span class=nx>useState</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ApiContext</span> <span class=o>=</span> <span class=nx>createContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ApiContextProvider</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>data</span><span class=p>,</span> <span class=nx>setData</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>([]);</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>apiUrl</span> <span class=o>=</span> <span class=s2>&#34;https://api.example.com/data&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>useEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>async</span> <span class=kd>function</span> <span class=nx>fetchData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>response</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>fetch</span><span class=p>(</span><span class=nx>apiUrl</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>jsonData</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>setData</span><span class=p>(</span><span class=nx>jsonData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;Error fetching data:&#34;</span><span class=p>,</span> <span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>fetchData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span> <span class=p>[]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>ApiContext</span><span class=p>.</span><span class=nx>Provider</span> <span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>data</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ApiContext.Provider&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>ApiContext</span><span class=p>,</span> <span class=nx>ApiContextProvider</span> <span class=p>};</span>
</span></span></code></pre></div><p>Luego, en cualquier componente de la aplicación, podemos consumir los datos de la API utilizando <strong>useContext</strong>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>useContext</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ApiContext</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;./ApiContextProvider&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>DataDisplay</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>useContext</span><span class=p>(</span><span class=nx>ApiContext</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=nx>Data</span> <span class=nx>from</span> <span class=nx>API</span><span class=o>&lt;</span><span class=err>/h2&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span><span class=nx>data</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=o>&lt;</span><span class=nx>li</span> <span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>))}</span>
</span></span><span class=line><span class=cl>      <span class=o>&lt;</span><span class=err>/ul&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/div&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>DataDisplay</span><span class=p>;</span>
</span></span></code></pre></div><h2 id=ejemplo-2-cambio-de-tema-con-usecontext class="relative group">Ejemplo 2: Cambio de tema con <strong>useContext</strong> <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ejemplo-2-cambio-de-tema-con-usecontext aria-label=Ancla>#</a></span></h2><p>Supongamos que deseamos permitir a los usuarios cambiar el tema de la aplicación. Aquí está el código:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>createContext</span><span class=p>,</span> <span class=nx>useContext</span><span class=p>,</span> <span class=nx>useState</span> <span class=p>}</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ThemeContext</span> <span class=o>=</span> <span class=nx>createContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ThemeContextProvider</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>theme</span><span class=p>,</span> <span class=nx>setTheme</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=s2>&#34;light&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>toggleTheme</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>setTheme</span><span class=p>((</span><span class=nx>prevTheme</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span><span class=nx>prevTheme</span> <span class=o>===</span> <span class=s2>&#34;light&#34;</span> <span class=o>?</span> <span class=s2>&#34;dark&#34;</span> <span class=o>:</span> <span class=s2>&#34;light&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>ThemeContext</span><span class=p>.</span><span class=nx>Provider</span> <span class=nx>value</span><span class=o>=</span><span class=p>{{</span> <span class=nx>theme</span><span class=p>,</span> <span class=nx>toggleTheme</span> <span class=p>}}</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/ThemeContext.Provider&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>ThemeContext</span><span class=p>,</span> <span class=nx>ThemeContextProvider</span> <span class=p>};</span>
</span></span></code></pre></div><p>Luego, en cualquier componente de la aplicación, podemos consumir y cambiar</p><h2 id=recursos class="relative group">Recursos <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#recursos aria-label=Ancla>#</a></span></h2><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/mzqRLumrJXY style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><br><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/lSMBhUEVK8k style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div></section><footer class="pt-8 max-w-3xl print:hidden"><div class=flex><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div></footer></article><div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Ir arriba" title="Ir arriba">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Desarrollada con <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://git.io/hugo-congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher type=button><div class="flex items-center justify-center w-12 h-12 dark:hidden" title="Cambiar a modo oscuro"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden w-12 h-12 dark:flex" title="Cambiar a modo claro"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div></footer></div></body></html>