<!doctype html><html lang=es dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="es"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Migraciones &#183; Funval International</title><meta name=title content="Migraciones &#183; Funval International"><meta name=description content="Migraciones # En Laravel, las migraciones son una forma conveniente y controlada de administrar los cambios en la estructura de la base de datos."><link rel=canonical href=https://funvalprogra.github.io/platform/levels/level5_laravel/02.2laravel/debug/><link type=text/css rel=stylesheet href=/platform/css/main.bundle.min.f2df16eaa2254cb2cbdb50c88227e9e648d2d03928ce0db7a6b45b9aae2b5b590d1835b5a0b2a6fef3ccf909200384081f18673a10fc046d258e163b23f4eca9.css integrity="sha512-8t8W6qIlTLLL21DIgifp5kjS0Dkozg23prRbmq4rW1kNGDW1oLKm/vPM+QkgA4QIHxhnOhD8BG0ljhY7I/TsqQ=="><script type=text/javascript src=/platform/js/appearance.min.1e44157c1e51b46341ce2c94716dd3dd1ef30c28e7d1c9f3b9db80877bfe72bc66b00d8a662f317840016acbed93c5f18c3d9268c8b957021ee74d0b04adf6c5.js integrity="sha512-HkQVfB5RtGNBziyUcW3T3R7zDCjn0cnzuduAh3v+crxmsA2KZi8xeEABasvtk8XxjD2SaMi5VwIe500LBK32xQ=="></script>
<script defer type=text/javascript id=script-bundle src=/platform/js/main.bundle.min.9947db70e5b36e741e53f8531bd734741b3fc7a688f7b5d749fc5433c48efc252f47bdf44e471570a550fc051b87712799014040e6349b38d64448b94e84e45a.js integrity="sha512-mUfbcOWzbnQeU/hTG9c0dBs/x6aI97XXSfxUM8SO/CUvR730TkcVcKVQ/AUbh3EnmQFAQOY0mzjWREi5ToTkWg==" data-copy=Copiar data-copied=Copiado></script>
<link rel=apple-touch-icon sizes=180x180 href=/platform/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/platform/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/platform/favicon-16x16.png><link rel=manifest href=/platform/site.webmanifest><meta property="og:title" content="Migraciones"><meta property="og:description" content="Migraciones # En Laravel, las migraciones son una forma conveniente y controlada de administrar los cambios en la estructura de la base de datos."><meta property="og:type" content="article"><meta property="og:url" content="https://funvalprogra.github.io/platform/levels/level5_laravel/02.2laravel/debug/"><meta property="article:section" content="levels"><meta property="article:published_time" content="2023-03-12T11:49:44-06:00"><meta property="article:modified_time" content="2023-03-12T11:49:44-06:00"><meta property="og:site_name" content="Funval International"><meta name=twitter:card content="summary"><meta name=twitter:title content="Migraciones"><meta name=twitter:description content="Migraciones # En Laravel, las migraciones son una forma conveniente y controlada de administrar los cambios en la estructura de la base de datos."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Levels","name":"Migraciones","headline":"Migraciones","abstract":"Migraciones # En Laravel, las migraciones son una forma conveniente y controlada de administrar los cambios en la estructura de la base de datos.","inLanguage":"es","url":"https:\/\/funvalprogra.github.io\/platform\/levels\/level5_laravel\/02.2laravel\/debug\/","author":{"@type":"Person","name":""},"copyrightYear":"2023","dateCreated":"2023-03-12T11:49:44-06:00","datePublished":"2023-03-12T11:49:44-06:00","dateModified":"2023-03-12T11:49:44-06:00","mainEntityOfPage":"true","wordCount":"1616"}]</script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Ir al contenido</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral print:hidden sm:py-10"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><h1>Funval International</h1></div></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Migraciones</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">8 mins</span></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Tabla de contenido</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#migraciones>Migraciones</a></li><li><a href=#appservice-provider-laravel>AppService Provider Laravel</a></li><li><a href=#middleware>Middleware</a></li><li><a href=#controller>Controller</a></li><li><a href=#laravel-migraciones>Laravel Migraciones</a></li><li><a href=#laravel-mimiddleware>Laravel MiMiddleware</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-3xl grow"><h1 id=migraciones class="relative group">Migraciones <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#migraciones aria-label=Ancla>#</a></span></h1><p>En Laravel, las migraciones son una forma conveniente y controlada de administrar los cambios en la estructura de la base de datos. Las migraciones te permiten crear, modificar o eliminar tablas y columnas de manera fácil y consistente, y también te ayudan a colaborar en equipo y mantener un historial de versiones de tu esquema de base de datos.</p><p>A continuación, te mostraré los pasos básicos para trabajar con migraciones en Laravel:</p><ol><li><p><strong>Crear una migración:</strong> Puedes generar una nueva migración utilizando el comando Artisan <code>make:migration</code>. Por ejemplo, para crear una migración para crear una nueva tabla, puedes ejecutar el siguiente comando en tu terminal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>php artisan make:migration create_nueva_tabla --create<span class=o>=</span>nombre_tabla
</span></span></code></pre></div><p>Esto creará un nuevo archivo de migración en el directorio <code>database/migrations</code>.</p></li><li><p><strong>Definir la estructura de la tabla:</strong> Abre el archivo de migración recién creado y utiliza los métodos de la clase <code>Schema</code> para definir la estructura de la tabla. Por ejemplo, puedes utilizar métodos como <code>create()</code>, <code>addColumn()</code>, <code>dropColumn()</code>, etc. para especificar las columnas y las modificaciones de la tabla.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nx>Illuminate\Database\Migrations\Migration</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nx>Illuminate\Database\Schema\Blueprint</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nx>Illuminate\Support\Facades\Schema</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CreateNuevaTabla</span> <span class=k>extends</span> <span class=nx>Migration</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>up</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>Schema</span><span class=o>::</span><span class=na>create</span><span class=p>(</span><span class=s1>&#39;nombre_tabla&#39;</span><span class=p>,</span> <span class=k>function</span> <span class=p>(</span><span class=nx>Blueprint</span> <span class=nv>$table</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$table</span><span class=o>-&gt;</span><span class=na>id</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nv>$table</span><span class=o>-&gt;</span><span class=na>string</span><span class=p>(</span><span class=s1>&#39;nombre&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$table</span><span class=o>-&gt;</span><span class=na>integer</span><span class=p>(</span><span class=s1>&#39;edad&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$table</span><span class=o>-&gt;</span><span class=na>timestamps</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>down</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>Schema</span><span class=o>::</span><span class=na>dropIfExists</span><span class=p>(</span><span class=s1>&#39;nombre_tabla&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>En este ejemplo, se crea una nueva tabla llamada <code>nombre_tabla</code> con las columnas <code>id</code>, <code>nombre</code>, <code>edad</code> y las columnas <code>timestamps</code> para registrar la fecha y hora de creación y actualización de los registros.</p></li><li><p><strong>Ejecutar las migraciones:</strong> Una vez que hayas definido la migración, puedes ejecutarla para aplicar los cambios en la base de datos. Utiliza el comando Artisan <code>migrate</code> para ejecutar todas las migraciones pendientes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>php artisan migrate
</span></span></code></pre></div><p>Esto ejecutará todas las migraciones que aún no se hayan aplicado.</p></li><li><p><strong>Rollback y reset de migraciones:</strong> Si necesitas revertir o deshacer los cambios realizados por una o todas las migraciones, puedes utilizar los comandos <code>migrate:rollback</code> y <code>migrate:reset</code> respectivamente.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>php artisan migrate:rollback
</span></span></code></pre></div><p>Este comando deshará la última migración.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>php artisan migrate:reset
</span></span></code></pre></div><p>Este comando deshará todas las migraciones y eliminará todas las tablas de la base de datos.</p></li></ol><p>Estos son los conceptos básicos para trabajar con migraciones en Laravel. Las migraciones te permiten mantener un control y seguimiento de los cambios en la estructura de la base de datos de tu aplicación, facilitando el trabajo en equipo y la gestión del esquema de la base de datos.</p><h1 id=appservice-provider-laravel class="relative group">AppService Provider Laravel <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#appservice-provider-laravel aria-label=Ancla>#</a></span></h1><p>El archivo <code>AppServiceProvider</code> en Laravel es una clase que se encuentra en el directorio <code>app/Providers</code> y proporciona un punto de entrada para configurar y registrar enlaces de servicio en la aplicación. Es una de las clases de proveedores incluidas por defecto en Laravel y juega un papel importante en la configuración inicial de la aplicación.</p><p>El <code>AppServiceProvider</code> tiene dos métodos principales que puedes utilizar:</p><ol><li><p><strong><code>register()</code>:</strong> Este método se utiliza para registrar enlaces de servicio y realizar enlaces de dependencia en la aplicación. Puedes utilizarlo para enlazar interfaces con implementaciones concretas de clases.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>public</span> <span class=k>function</span> <span class=nf>register</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>app</span><span class=o>-&gt;</span><span class=na>bind</span><span class=p>(</span><span class=k>Interface</span><span class=o>::</span><span class=na>class</span><span class=p>,</span> <span class=nx>ConcreteClass</span><span class=o>::</span><span class=na>class</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>En este ejemplo, se registra una implementación concreta <code>ConcreteClass</code> para la interfaz <code>Interface</code>. Esto permite que en otros lugares de la aplicación se inyecte automáticamente la instancia de <code>ConcreteClass</code> cuando se solicite una instancia de <code>Interface</code>.</p></li><li><p><strong><code>boot()</code>:</strong> Este método se ejecuta después de que todos los servicios se hayan registrado y está destinado a la configuración adicional de la aplicación. Puedes utilizarlo para definir rutas, vistas, eventos, enlaces de base de datos, etc.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>public</span> <span class=k>function</span> <span class=nf>boot</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Route</span><span class=o>::</span><span class=na>middleware</span><span class=p>(</span><span class=s1>&#39;web&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=o>-&gt;</span><span class=na>namespace</span><span class=p>(</span><span class=s1>&#39;App\Http\Controllers&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=o>-&gt;</span><span class=na>group</span><span class=p>(</span><span class=k>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>Route</span><span class=o>::</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>,</span> <span class=s1>&#39;HomeController@index&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>En este ejemplo, se define una ruta para la página de inicio de la aplicación. La función <code>group()</code> permite agrupar varias rutas bajo un middleware y un espacio de nombres específicos.</p></li></ol><p>El <code>AppServiceProvider</code> también es un buen lugar para definir enlaces de base de datos, configuraciones de cache, configuraciones de log, eventos, etc. Puedes personalizar este proveedor según tus necesidades y agregar más lógica en los métodos <code>register()</code> y <code>boot()</code>.</p><p>Es importante destacar que el <code>AppServiceProvider</code> es cargado automáticamente por Laravel durante el inicio de la aplicación, por lo que no es necesario registrar manualmente este proveedor en el archivo <code>config/app.php</code>.</p><p>Recuerda que, además del <code>AppServiceProvider</code>, Laravel también incluye otros proveedores útiles como <code>RouteServiceProvider</code>, <code>EventServiceProvider</code>, <code>AuthServiceProvider</code>, entre otros, que te permiten personalizar y configurar diferentes aspectos de tu aplicación.</p><h1 id=middleware class="relative group">Middleware <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#middleware aria-label=Ancla>#</a></span></h1><p>En Laravel, el middleware es una capa de software que se encuentra entre la solicitud entrante y la respuesta enviada por la aplicación. Actúa como un filtro o una tubería a través de la cual pasan las solicitudes antes de ser procesadas por la aplicación. El middleware permite realizar acciones específicas en una solicitud, como autenticación, validación, registro de actividad, etc., antes de que la solicitud llegue a su destino final.</p><p>Laravel incluye varios middlewares predefinidos, como el middleware de autenticación, el middleware de verificación CSRF (Cross-Site Request Forgery), el middleware de enrutamiento, entre otros. Además, puedes crear tus propios middlewares personalizados según tus necesidades.</p><p>A continuación, te mostraré los pasos básicos para trabajar con middleware en Laravel:</p><ol><li><p><strong>Creación de un middleware:</strong> Puedes generar un nuevo middleware utilizando el comando Artisan <code>make:middleware</code>. Por ejemplo, para crear un middleware llamado <code>MiMiddleware</code>, ejecuta el siguiente comando en tu terminal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>php artisan make:middleware MiMiddleware
</span></span></code></pre></div><p>Esto creará un nuevo archivo de middleware en el directorio <code>app/Http/Middleware</code>.</p></li><li><p><strong>Definición del middleware:</strong> Abre el archivo de middleware recién creado y, en el método <code>handle()</code>, implementa la lógica que deseas ejecutar en cada solicitud que pase a través de este middleware. Puedes realizar acciones como verificar la autenticación del usuario, validar datos, agregar encabezados personalizados, etc.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nx>App\Http\Middleware</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>use</span> <span class=nx>Closure</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MiMiddleware</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>handle</span><span class=p>(</span><span class=nv>$request</span><span class=p>,</span> <span class=nx>Closure</span> <span class=nv>$next</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Lógica del middleware
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$next</span><span class=p>(</span><span class=nv>$request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>El método <code>handle()</code> recibe la solicitud actual y una clausura <code>$next</code>, que representa la siguiente capa de middleware o el controlador final. Debes asegurarte de llamar a la clausura <code>$next</code> para permitir que la solicitud continúe su flujo normal.</p></li><li><p><strong>Registro del middleware:</strong> Para que Laravel utilice el middleware, debes registrarlo en la aplicación. Puedes hacerlo en el archivo <code>app/Http/Kernel.php</code>. En este archivo, encontrarás un arreglo llamado <code>$middleware</code> que contiene la lista de middlewares globales que se aplicarán a todas las solicitudes.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>protected</span> <span class=nv>$middleware</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>\App\Http\Middleware\MiMiddleware</span><span class=o>::</span><span class=na>class</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></div><p>Agrega la referencia al middleware recién creado en este arreglo. Ten en cuenta que la posición en el arreglo determina el orden de ejecución de los middlewares. Si necesitas aplicar el middleware solo a rutas específicas, puedes utilizar el middleware de ruta en lugar del middleware global.</p></li><li><p><strong>Asignación del middleware a rutas:</strong> Puedes asignar el middleware a rutas específicas en el archivo <code>routes/web.php</code> o <code>routes/api.php</code>. Puedes hacerlo utilizando los métodos <code>middleware()</code> o <code>group()</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>Route</span><span class=o>::</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;/ruta&#39;</span><span class=p>,</span> <span class=k>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Lógica de la ruta
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})</span><span class=o>-&gt;</span><span class=na>middleware</span><span class=p>(</span><span class=s1>&#39;MiMiddleware&#39;</span><span class=p>);</span>
</span></span></code></pre></div><p>En este ejemplo, el middleware <code>MiMiddleware</code> se aplicará solo a la ruta <code>/ruta</code>.</p></li></ol><p>Estos son los pasos básicos para trabajar con middleware en Laravel. El middleware te permite realizar tareas específicas en las solicitudes antes de que lleguen a su destino final,</p><h1 id=controller class="relative group">Controller <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#controller aria-label=Ancla>#</a></span></h1><p>En Laravel, los controladores son clases que se utilizan para agrupar la lógica relacionada con la manipulación de solicitudes HTTP. Los controladores manejan las solicitudes entrantes, procesan los datos y devuelven una respuesta al usuario. Proporcionan una forma estructurada de separar la lógica de la aplicación de las rutas y las vistas.</p><p>Aquí hay un ejemplo básico de cómo crear un controlador en Laravel:</p><ol><li><p>Generar un controlador:
Puedes generar un nuevo controlador utilizando el comando <code>make:controller</code> de Artisan. Por ejemplo, para crear un controlador llamado <code>UserController</code>, ejecuta el siguiente comando en tu terminal:</p><pre tabindex=0><code>php artisan make:controller UserController
</code></pre><p>Esto generará un archivo <code>UserController.php</code> en el directorio <code>app/Http/Controllers</code> con una estructura básica de controlador.</p></li><li><p>Definir métodos de acción:
En el archivo <code>UserController.php</code>, encontrarás un método de acción por defecto llamado <code>__invoke()</code>. Puedes definir otros métodos de acción dentro del controlador para manejar diferentes rutas o acciones. Por ejemplo, puedes agregar un método <code>index()</code> para mostrar una lista de usuarios:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>public</span> <span class=k>function</span> <span class=nf>index</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Lógica para obtener la lista de usuarios
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nv>$users</span> <span class=o>=</span> <span class=nx>User</span><span class=o>::</span><span class=na>all</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Retornar una vista con los datos
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=nx>view</span><span class=p>(</span><span class=s1>&#39;users.index&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span> <span class=o>=&gt;</span> <span class=nv>$users</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Enrutamiento:
Después de definir los métodos de acción en el controlador, debes definir las rutas correspondientes en el archivo <code>routes/web.php</code> o <code>routes/api.php</code>, dependiendo del tipo de ruta que necesites. Puedes hacer esto utilizando el método <code>Route::</code> y el nombre del controlador y el método de acción. Por ejemplo:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>Route</span><span class=o>::</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;/users&#39;</span><span class=p>,</span> <span class=s1>&#39;UserController@index&#39;</span><span class=p>);</span>
</span></span></code></pre></div><p>Esto establecerá una ruta GET <code>/users</code> que será manejada por el método <code>index()</code> del controlador <code>UserController</code>.</p></li><li><p>Inyección de dependencias:
Los controladores de Laravel también admiten la inyección de dependencias. Puedes declarar dependencias en el constructor del controlador y Laravel automáticamente las inyectará cuando se instancie el controlador. Por ejemplo:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>use</span> <span class=nx>App\Services\UserService</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserController</span> <span class=k>extends</span> <span class=nx>Controller</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>protected</span> <span class=nv>$userService</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>UserService</span> <span class=nv>$userService</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>userService</span> <span class=o>=</span> <span class=nv>$userService</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><p>En este ejemplo, se inyecta la dependencia <code>UserService</code> en el controlador <code>UserController</code> a través del constructor.</p></li><li><p>Responder a las solicitudes:
Los métodos de acción de un controlador pueden realizar cualquier lógica necesaria, como interactuar con modelos, realizar consultas a la base de datos, ejecutar servicios, etc. Una vez que se complete la lógica, puedes devolver una respuesta al usuario. Esto puede ser una vista, una respuesta JSON, una redirección, entre otros.</p><p>Por ejemplo, para devolver una vista desde un método de acción:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>public</span> <span class=k>function</span> <span class=nf>index</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$users</span> <span class=o>=</span> <span class=nx>User</span><span class=o>::</span><span class=na>all</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>view</span><span class=p>(</span><span class=s1>&#39;users.index&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;users&#39;</span> <span class=o>=&gt;</span> <span class=nv>$users</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>En este caso, estamos devolviendo la vista <code>users.index</code> y pasando la variable <code>$users</code> como datos a</p></li></ol><p>la vista.</p><p>Los controladores en Laravel juegan un papel central en la estructura MVC (Modelo-Vista-Controlador) del framework. Permiten mantener la lógica de la aplicación separada de las rutas y las vistas, promoviendo así la reutilización del código y un mejor mantenimiento.</p><h1 id=laravel-migraciones class="relative group">Laravel Migraciones <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#laravel-migraciones aria-label=Ancla>#</a></span></h1><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/LkSeELpdj4k style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h1 id=laravel-mimiddleware class="relative group">Laravel MiMiddleware <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#laravel-mimiddleware aria-label=Ancla>#</a></span></h1><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/P4ehlI6btNQ style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div></section><footer class="pt-8 max-w-3xl print:hidden"><div class=flex><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div></footer></article><div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Ir arriba" title="Ir arriba">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Desarrollada con <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://git.io/hugo-congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher type=button><div class="flex items-center justify-center w-12 h-12 dark:hidden" title="Cambiar a modo oscuro"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden w-12 h-12 dark:flex" title="Cambiar a modo claro"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div></footer></div></body></html>